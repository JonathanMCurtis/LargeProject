(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{19:function(e,t,a){e.exports=a(32)},24:function(e,t,a){},25:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),o=(a(24),a(17)),u=a(1);a(25);var i=function(){return r.a.createElement("h1",{id:"title"},"COP 4331 MERN Stack Demo")},s=a(6),d=a.n(s),p=a(10),m=a(8);var h=function(){var e,t,a=Object(n.useState)(""),c=Object(m.a)(a,2),l=c[0],o=c[1],u=function(){var a=Object(p.a)(d.a.mark((function a(n){var r,c,l,u;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),r='{"login":"'+e.value+'","password":"'+t.value+'"}',a.prev=2,a.next=5,fetch("https://largeproject-21.herokuapp.com/api/login",{method:"POST",body:r,headers:{"Content-Type":"application/json"}});case 5:return c=a.sent,a.t0=JSON,a.next=9,c.text();case 9:a.t1=a.sent,(l=a.t0.parse.call(a.t0,a.t1)).id<=0?o("User/Password combination incorrect"):(u={firstName:l.firstName,lastName:l.lastName,id:l.id},localStorage.setItem("user_data",JSON.stringify(u)),o(""),window.location.href="/cards"),a.next=18;break;case 14:return a.prev=14,a.t2=a.catch(2),alert(a.t2.toString()),a.abrupt("return");case 18:case"end":return a.stop()}}),a,null,[[2,14]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",{id:"loginDiv"},r.a.createElement("form",{onSubmit:u},r.a.createElement("span",{id:"inner-title"},"PLEASE LOG IN"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"loginName",placeholder:"Username",ref:function(t){return e=t}}),r.a.createElement("input",{type:"password",id:"loginPassword",placeholder:"Password",ref:function(e){return t=e}}),r.a.createElement("input",{type:"submit",id:"loginButton",class:"buttons",value:"Do It",onClick:u})),r.a.createElement("span",{id:"loginResult"},l))},f=function(){return r.a.createElement("div",null,r.a.createElement(i,null),r.a.createElement(h,null))};var v=function(){var e=localStorage.getItem("user_data"),t=JSON.parse(e),a=t.firstName,n=t.lastName;return r.a.createElement("div",{id:"loggedInDiv"},r.a.createElement("span",{id:"userName"},"Logged In As ",a," ",n),r.a.createElement("br",null),r.a.createElement("button",{type:"button",id:"logoutButton",class:"buttons",onClick:function(e){e.preventDefault(),localStorage.removeItem("user_data"),window.location.href="/"}}," Log Out "))};var E=function(){var e="",t="",a=localStorage.getItem("user_data"),c=JSON.parse(a).id,l=Object(n.useState)(""),o=Object(m.a)(l,2),u=o[0],i=o[1],s=Object(n.useState)(""),h=Object(m.a)(s,2),f=h[0],v=h[1],E=Object(n.useState)(""),b=Object(m.a)(E,2),g=b[0],S=b[1],w=function(){var t=Object(p.a)(d.a.mark((function t(a){var n,r,l,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n='{"userId":"'+c+'","card":"'+e.value+'"}',t.prev=2,t.next=5,fetch("https://largeproject-21.herokuapp.com/api/addcard",{method:"POST",body:n,headers:{"Content-Type":"application/json"}});case 5:return r=t.sent,t.next=8,r.text();case 8:l=t.sent,(o=JSON.parse(l)).error.length>0?i("API Error:"+o.error):i("Card has been added"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),i(t.t0.toString());case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(d.a.mark((function e(a){var n,r,l,o,u,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n='{"userId":"'+c+'","search":"'+t.value+'"}',e.prev=2,e.next=5,fetch("https://largeproject-21.herokuapp.com/api/searchcards",{method:"POST",body:n,headers:{"Content-Type":"application/json"}});case 5:return r=e.sent,e.next=8,r.text();case 8:for(l=e.sent,o=JSON.parse(l),u=o.results,i="",s=0;s<u.length;s++)i+=u[s],s<u.length-1&&(i+=", ");v("Card(s) have been retrieved"),S(i),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),alert(e.t0.toString()),v(e.t0.toString());case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{id:"cardUIDiv"},r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"searchText",placeholder:"Card To Search For",ref:function(e){return t=e}}),r.a.createElement("button",{type:"button",id:"searchCardButton",className:"buttons",onClick:x}," Search Card"),r.a.createElement("br",null),r.a.createElement("span",{id:"cardSearchResult"},f),r.a.createElement("p",{id:"cardList"},g),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"cardText",placeholder:"Card To Add",ref:function(t){return e=t}}),r.a.createElement("button",{type:"button",id:"addCardButton",className:"buttons",onClick:w}," Add Card"),r.a.createElement("br",null),r.a.createElement("span",{id:"cardAddResult"},u))},b=function(){return r.a.createElement("div",null,r.a.createElement(i,null),r.a.createElement(v,null),r.a.createElement(E,null))};var g=function(){return r.a.createElement(o.a,null,r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/",exact:!0},r.a.createElement(f,null)),r.a.createElement(u.b,{path:"/cards",exact:!0},r.a.createElement(b,null)),r.a.createElement(u.a,{to:"/"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.aff1c5fe.chunk.js.map